<nav ng-controller="NavController" class="navbar navbar-custom navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" ng-click="isCollapsed = !isCollapsed">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand visible-xs">Beaches</a>
    </div>
    <div class="hidden-xs">
      <ul class="nav nav-pills navbar-nav">
        <a class="navbar-brand" href="#">Beaches</a>
        <li ng-hide="signedIn()" ><a href="#/login">Log In</a></li>
        <li ng-hide="signedIn()" ui-sref-active="active"><a href="#/register">Register</a></li>
        <li ng-show="signedIn()" ui-sref-active="active"><a href="#/beaches">All Beaches</a></li>
        <li ng-show="signedIn()" ui-sref-active="active"><a href="#/beaches/new">Add a Beach</a></li>
        <li ng-show="signedIn()"><a href="#/">Logged in as {{ user.username }}</a></li>
        <li ng-show="signedIn()" ui-sref-active="active"><a ng-click="logout()">Log Out</a></li>
      </ul>
    </div>
    <div uib-collapse="!isCollapsed">
      <ul class="nav navbar-nav">
        <li ng-hide="signedIn()" ><a href="#/login" ng-click="isCollapsed = !isCollapsed">Log In</a></li>
        <li ng-hide="signedIn()" ui-sref-active="active"><a href="#/register" ng-click="isCollapsed = !isCollapsed">Register</a></li>
        <li ng-show="signedIn()" ui-sref-active="active"><a href="#/beaches" ng-click="isCollapsed = !isCollapsed">All Beaches</a></li>
        <li ng-show="signedIn()" ui-sref-active="active"><a href="#/beaches/new" ng-click="isCollapsed = !isCollapsed">Add a Beach</a></li>
        <li ng-show="signedIn()" ui-sref-active="active"><a ng-click="isCollapsed = !isCollapsed; logout()">Log Out</a></li>
      </ul>
    </div>
  </div>
</nav>